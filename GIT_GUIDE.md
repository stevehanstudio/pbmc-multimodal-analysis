# Git Guide for This Project

## ğŸ“‹ What's Tracked in Git

### âœ… **Files That SHOULD Be Committed**

**Code & Notebooks:**
- âœ… `*.ipynb` - Jupyter notebooks (main analysis)
- âœ… `*.py` - Python scripts and modules
- âœ… `*.md` - Documentation files

**Configuration:**
- âœ… `.gitignore` - Git ignore rules
- âœ… `.gitattributes` - Git file handling rules
- âœ… `environment.yml` - Conda environment specification

**Documentation:**
- âœ… `README.md` - Main documentation
- âœ… `PROJECT_OVERVIEW.md` - Project summary
- âœ… `GIT_GUIDE.md` - This file

**Small Reference Files:**
- âœ… `data/GSE164378/GSE164378_series_matrix.txt` - Metadata (~1 MB)
- âœ… `data/GSE164378/suppl/GSE164378_Antibody_HTO_info.xlsx` - Antibody info (~31 KB)

### âŒ **Files That Should NOT Be Committed**

**Large Data Files (ignored by .gitignore):**
- âŒ `data/*/suppl/*.mtx.gz` - Count matrices (100+ MB each)
- âŒ `data/*/suppl/*.tsv.gz` - Feature/barcode files
- âŒ `data/*/suppl/*.csv.gz` - Large metadata files
- âŒ `data/*/suppl/*.tar` - Archive files

**Generated Results (can be reproduced):**
- âŒ `results/**/*.h5ad` - Processed AnnData objects
- âŒ `results/**/*.h5mu` - Multimodal data objects
- âŒ `results/**/figures/*.png` - Generated plots

**System Files:**
- âŒ `.ipynb_checkpoints/` - Jupyter checkpoints
- âŒ `__pycache__/` - Python cache
- âŒ `.DS_Store` - macOS files

---

## ğŸš€ Quick Start with Git

### Initial Setup

```bash
cd /home/steve/Projects/genentech/pbmc-multimodal-analysis

# Initialize git repository
git init

# Add all tracked files
git add .

# First commit
git commit -m "Initial commit: PBMC multimodal analysis project

- RNA-seq analysis notebook
- WNN multimodal integration notebook
- Data download utilities
- Comprehensive documentation"
```

### Create GitHub Repository

```bash
# Create repo on GitHub first, then:
git remote add origin https://github.com/YOUR_USERNAME/pbmc-multimodal-analysis.git
git branch -M main
git push -u origin main
```

---

## ğŸ“ Recommended Commit Workflow

### Making Changes

```bash
# Check what's changed
git status

# Add specific files
git add explore_GSE164378.ipynb
git add README.md

# Or add all changes
git add .

# Commit with descriptive message
git commit -m "Update RNA-seq analysis: add cell type annotation section"

# Push to GitHub
git push
```

### Good Commit Messages

âœ… **Good:**
```
"Add WNN multimodal integration notebook"
"Update README: add installation instructions"
"Fix: correct CLR normalization for ADT data"
"Docs: improve documentation for download utility"
```

âŒ **Bad:**
```
"update"
"fix stuff"
"changes"
```

---

## ğŸ“Š Repository Size Management

### Current Setup
- **Tracked files**: ~5-10 MB (code, docs, small metadata)
- **Ignored files**: ~3 GB (large data files, processed results)

### Why This Matters
- Git repositories should be < 100 MB for easy cloning
- Large data files should be downloaded separately
- Results can be regenerated by running notebooks

### For Collaborators

When someone clones your repo, they need to:

```bash
# Clone the repository
git clone https://github.com/YOUR_USERNAME/pbmc-multimodal-analysis.git
cd pbmc-multimodal-analysis

# Download the data
python download_geo_dataset.py

# Or follow instructions in README.md
```

---

## ğŸ”§ Advanced Git Configuration

### Jupyter Notebook Diff (Optional)

For better notebook diffs, install nbdime:

```bash
pip install nbdime

# Configure git to use nbdime
nbdime config-git --enable --global
```

### Git LFS for Large Files (If Needed)

If you need to track some large files:

```bash
# Install Git LFS
git lfs install

# Track specific large files
git lfs track "results/GSE164378/GSE164378_rna_processed.h5ad"

# Add .gitattributes
git add .gitattributes
git commit -m "Configure Git LFS for processed data"
```

---

## ğŸ“¦ Sharing Your Work

### For Employers/Reviewers

**Option 1: GitHub Repository (Recommended)**
- Clean code and documentation
- Easy to browse online
- Shows git history and commits
- Data downloaded separately

**Option 2: Complete Package**
If you need to share everything including data:

```bash
# Create archive excluding git history
tar -czf pbmc-analysis-complete.tar.gz \
  --exclude='.git' \
  --exclude='__pycache__' \
  --exclude='.ipynb_checkpoints' \
  pbmc-multimodal-analysis/
```

**Option 3: Code Only**
```bash
# Share just the code and docs (no data)
tar -czf pbmc-analysis-code.tar.gz \
  --exclude='data/' \
  --exclude='results/' \
  --exclude='.git' \
  pbmc-multimodal-analysis/
```

---

## ğŸ¯ Best Practices

### Do's âœ…
- âœ… Commit frequently with clear messages
- âœ… Keep commits focused (one feature/fix per commit)
- âœ… Update documentation with code changes
- âœ… Test notebooks before committing
- âœ… Use branches for experimental features

### Don'ts âŒ
- âŒ Commit large data files (> 100 MB)
- âŒ Commit generated results that can be reproduced
- âŒ Commit sensitive information (passwords, API keys)
- âŒ Commit temporary or cache files
- âŒ Make huge commits with many unrelated changes

---

## ğŸ” Checking What Will Be Committed

```bash
# See what's tracked
git ls-files

# See what's ignored
git status --ignored

# Check file sizes
git ls-files | xargs ls -lh

# Find large files
find . -type f -size +10M | grep -v ".git"
```

---

## ğŸ“š Additional Resources

- **Git Documentation**: https://git-scm.com/doc
- **GitHub Guides**: https://guides.github.com/
- **Jupyter + Git**: https://nbdime.readthedocs.io/
- **Git LFS**: https://git-lfs.github.com/

---

## âœ¨ Summary

Your `.gitignore` is configured to:
1. **Track** all code, notebooks, and documentation
2. **Ignore** large data files and generated results
3. **Keep** repository size small and manageable
4. **Enable** easy collaboration and sharing

**Result**: Professional, shareable repository perfect for portfolios and GitHub! ğŸ‰

